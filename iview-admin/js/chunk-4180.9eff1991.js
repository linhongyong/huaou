(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4180"],{"0532":function(t,e,n){"use strict";var a=n("b5ab"),o=n.n(a);o.a},"779d":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[n("Card",[n("Row",{attrs:{type:"flex",justify:"space-between"}},[n("Col",{attrs:{span:"4"}},[n("div",{staticClass:"el-tree"},[n("Tree",{attrs:{data:t.menutree},on:{"on-select-change":t.getRoleDetail}})],1)]),n("Col",{attrs:{span:"19"}},[n("Card",[n("div",{staticStyle:{padding:"20px 20px 80px"}},[t._v("\n                  父级：\n         \t"),n("Dropdown",{attrs:{trigger:"click"},on:{"on-click":t.onSelectParent}},[n("a",{staticClass:"dropdown display-flex-center-between",attrs:{href:"javascript:void(0)"}},[t._v("\n                              请选择父级\n                "),n("Icon",{attrs:{type:"ios-arrow-down"}})],1),n("DropdownMenu",{attrs:{slot:"list"},slot:"list"},t._l(t.menutree,function(e){return n("div",[e.children.length?n("Dropdown",{attrs:{placement:"right-start",trigger:"click"}},[n("DropdownItem",{attrs:{name:e.id}},[t._v("\n                    "+t._s(e.title)+"\n                    "),n("Icon",{attrs:{type:"ios-arrow-forward"}})],1),n("DropdownMenu",{attrs:{slot:"list"},slot:"list"},t._l(e.children,function(e){return n("div",[e.children.length?n("Dropdown",{attrs:{placement:"right-start",trigger:"click"}},[n("DropdownItem",{attrs:{name:e.id}},[t._v("\n                          "+t._s(e.title)+"\n                          "),n("Icon",{attrs:{type:"ios-arrow-forward"}})],1),n("DropdownMenu",{attrs:{slot:"list"},slot:"list"},t._l(e.children,function(e){return n("DropdownItem",{attrs:{name:e.id}},[t._v(t._s(e.title))])}))],1):n("DropdownItem",{attrs:{name:e.id}},[t._v(t._s(e.title))])],1)}))],1):n("DropdownItem",{staticStyle:{padding:"5px 20px"},attrs:{name:e.id}},[t._v(t._s(e.title))])],1)}))],1),n("div",{staticStyle:{"margin-top":"40px"}},[t._v("\n                         名称：\n            "),n("Input",{staticStyle:{width:"80%"},attrs:{placeholder:""},model:{value:t.obj.menuName,callback:function(e){t.$set(t.obj,"menuName",e)},expression:"obj.menuName"}})],1),n("div",{staticStyle:{"margin-top":"40px"}},[t._v("\n                          代码：\n            "),n("Input",{staticStyle:{width:"80%"},attrs:{placeholder:""},model:{value:t.obj.url,callback:function(e){t.$set(t.obj,"url",e)},expression:"obj.url"}})],1),n("div",{staticStyle:{"margin-top":"40px"}},[t._v("\n                        类型：\n          \t"),n("RadioGroup",{model:{value:t.obj.type,callback:function(e){t.$set(t.obj,"type",e)},expression:"obj.type"}},[n("Radio",{attrs:{label:"0"}},[n("span",[t._v("菜单")])]),n("Radio",{attrs:{label:"1"}},[n("span",[t._v("按钮")])])],1)],1),n("div",{staticClass:"display-flex-center",staticStyle:{"margin-top":"40px"}},[t._v("\n                          序号：\n             "),n("div",{staticStyle:{width:"80%","padding-left":"10px"}},[n("Slider",{model:{value:t.obj.orderNum,callback:function(e){t.$set(t.obj,"orderNum",e)},expression:"obj.orderNum"}})],1)]),n("div",{staticStyle:{"margin-top":"40px"}},[t._v("\n                          备注：\n            "),n("Input",{staticStyle:{width:"80%"},attrs:{placeholder:""},model:{value:t.obj.perms,callback:function(e){t.$set(t.obj,"perms",e)},expression:"obj.perms"}})],1)],1)])],1)],1),n("Button",{attrs:{type:"primary"},on:{click:function(e){t.handleSubmit()}}},[t._v("保存")])],1)],1)},o=[],s=(n("ac6a"),n("cadf"),n("551c"),n("097d"),n("9e77")),r={data:function(){return{menutree:[],obj:{icon:"+",parentId:null}}},methods:{onSelectParent:function(t){console.log(t),this.obj.parentId=t},handleSubmit:function(){var t=this;console.log(this.obj),s["a"].addMenu(this.obj).then(function(e){console.log(e),t.$Message.success("操作成功"),t.getMenus()})},getRoleDetail:function(t){console.log(t),this.obj=t[0]},getMenus:function(){var t=this;s["a"].getMenus(null,function(e){console.log(e),t.menuList=e.result.list,t.machiningMenus(e.result.list)})},machiningMenus:function(t){var e=[];(function t(e,n){e.forEach(function(e){var a=e;a.title=e.menuName,e.childMenus&&(a.children=[],t(e.childMenus,a.children)),n.push(a)})})(t,e),this.menutree=e}},mounted:function(){this.getMenus()}},i=r,l=(n("0532"),n("2877")),u=Object(l["a"])(i,a,o,!1,null,null,null);u.options.__file="menu.vue";e["default"]=u.exports},"9e77":function(t,e,n){"use strict";var a=n("66df"),o=n("a93f"),s=new Object;s.addMenu=function(t){return new Promise(function(e,n){a["a"].request({url:"/menu/add",method:"post",data:t}).then(function(t){"Success"==t.data.code?e(t.data):n(t.data)})})},s.deleteMenu=function(t,e,n){a["a"].request({url:"/menu/delete?id=".concat(t.id),method:"post"}).then(function(t){console.log(t),"Success"!=t.data.code?n(t.data):e(t.data)})},s.updateMenu=function(t,e,n){a["a"].request({url:"/menu/update",method:"post",data:t}).then(function(t){console.log(t),"Success"!=t.data.code?n(t.data):e(t.data)})},s.getMenus=function(t,e,n){a["a"].request({url:"/menu/list",method:"post"}).then(function(t){"Success"!=t.data.code?n(t.data):e(t.data)})},s.addMenu=function(t){return o["a"].post({url:"/menu/add",data:t})},s.getMenuList=function(t){return o["a"].post({url:"/menu/list",data:t})},s.getMenusByRoleId=function(t){return o["a"].get({url:"/roleMenu/getMenusByRoleId?roleId=".concat(t.roleId),data:t})},s.getMenusByParentId=function(t){return o["a"].get({url:"/menu/getMenusByParentId",data:t})},s.getMenuTreeByUserId=function(t){return o["a"].get({url:"/menuTree/getByUserId",data:t,defaultValue:"menuList"})},s.getMenusLevel1=function(t,e,n){a["a"].request({url:"/menu/getMenusByParentId?parentId=0",method:"get"}).then(function(t){"Success"!=t.data.code?n(t.data):e(t.data)})},e["a"]=s},b5ab:function(t,e,n){}}]);
//# sourceMappingURL=chunk-4180.9eff1991.js.map