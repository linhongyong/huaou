{"version":3,"sources":["webpack:///./src/view/menu/menu.vue?287a","webpack:///./src/view/menu/menu.vue?cc1f","webpack:///src/view/menu/menu.vue","webpack:///./src/view/menu/menu.vue?b3ef","webpack:///./src/view/menu/menu.vue?6812","webpack:///./src/api/menu-api.js"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_menu_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","render","_vm","this","_h","$createElement","_c","_self","attrs","type","justify","span","staticClass","data","menutree","on","on-select-change","getRoleDetail","staticStyle","padding","_v","trigger","on-click","onSelectParent","href","slot","_l","item","children","length","placement","name","id","_s","title","item2","item3","margin-top","width","placeholder","model","value","obj","callback","$$v","$set","expression","label","padding-left","click","$event","handleSubmit","staticRenderFns","menuvue_type_script_lang_js_","icon","parentId","methods","console","log","_this","menu_api","addMenu","then","$Message","success","getMenus","roles","_this2","menuList","result","list","machiningMenus","traverse","node","forEach","i","n","menuName","childMenus","push","mounted","menu_menuvue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","__webpack_exports__","menu","Promise","resolve","reject","_libs_api_request__WEBPACK_IMPORTED_MODULE_0__","request","url","method","res","code","deleteMenu","fnOk","fnError","updateMenu","_httpClient__WEBPACK_IMPORTED_MODULE_1__","post","getMenuList","getMenusByRoleId","get","roleId","getMenusByParentId","getMenuTreeByUserId","defaultValue","getMenusLevel1"],"mappings":"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","file":"js/chunk-4180.9eff1991.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menu.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menu.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{},[_c('Card',[_c('Row',{attrs:{\"type\":\"flex\",\"justify\":\"space-between\"}},[_c('Col',{attrs:{\"span\":\"4\"}},[_c('div',{staticClass:\"el-tree\"},[_c('Tree',{attrs:{\"data\":_vm.menutree},on:{\"on-select-change\":_vm.getRoleDetail}})],1)]),_c('Col',{attrs:{\"span\":\"19\"}},[_c('Card',[_c('div',{staticStyle:{\"padding\":\"20px 20px 80px\"}},[_vm._v(\"\\n                  父级：\\n         \\t\"),_c('Dropdown',{attrs:{\"trigger\":\"click\"},on:{\"on-click\":_vm.onSelectParent}},[_c('a',{staticClass:\"dropdown display-flex-center-between\",attrs:{\"href\":\"javascript:void(0)\"}},[_vm._v(\"\\n                              请选择父级\\n                \"),_c('Icon',{attrs:{\"type\":\"ios-arrow-down\"}})],1),_c('DropdownMenu',{attrs:{\"slot\":\"list\"},slot:\"list\"},_vm._l((_vm.menutree),function(item){return _c('div',[(!item.children.length)?_c('DropdownItem',{staticStyle:{\"padding\":\"5px 20px\"},attrs:{\"name\":item.id}},[_vm._v(_vm._s(item.title))]):_c('Dropdown',{attrs:{\"placement\":\"right-start\",\"trigger\":\"click\"}},[_c('DropdownItem',{attrs:{\"name\":item.id}},[_vm._v(\"\\n                    \"+_vm._s(item.title)+\"\\n                    \"),_c('Icon',{attrs:{\"type\":\"ios-arrow-forward\"}})],1),_c('DropdownMenu',{attrs:{\"slot\":\"list\"},slot:\"list\"},_vm._l((item.children),function(item2){return _c('div',[(!item2.children.length)?_c('DropdownItem',{attrs:{\"name\":item2.id}},[_vm._v(_vm._s(item2.title))]):_c('Dropdown',{attrs:{\"placement\":\"right-start\",\"trigger\":\"click\"}},[_c('DropdownItem',{attrs:{\"name\":item2.id}},[_vm._v(\"\\n                          \"+_vm._s(item2.title)+\"\\n                          \"),_c('Icon',{attrs:{\"type\":\"ios-arrow-forward\"}})],1),_c('DropdownMenu',{attrs:{\"slot\":\"list\"},slot:\"list\"},_vm._l((item2.children),function(item3){return _c('DropdownItem',{attrs:{\"name\":item3.id}},[_vm._v(_vm._s(item3.title))])}))],1)],1)}))],1)],1)}))],1),_c('div',{staticStyle:{\"margin-top\":\"40px\"}},[_vm._v(\"\\n                         名称：\\n            \"),_c('Input',{staticStyle:{\"width\":\"80%\"},attrs:{\"placeholder\":\"\"},model:{value:(_vm.obj.menuName),callback:function ($$v) {_vm.$set(_vm.obj, \"menuName\", $$v)},expression:\"obj.menuName\"}})],1),_c('div',{staticStyle:{\"margin-top\":\"40px\"}},[_vm._v(\"\\n                          代码：\\n            \"),_c('Input',{staticStyle:{\"width\":\"80%\"},attrs:{\"placeholder\":\"\"},model:{value:(_vm.obj.url),callback:function ($$v) {_vm.$set(_vm.obj, \"url\", $$v)},expression:\"obj.url\"}})],1),_c('div',{staticStyle:{\"margin-top\":\"40px\"}},[_vm._v(\"\\n                        类型：\\n          \\t\"),_c('RadioGroup',{model:{value:(_vm.obj.type),callback:function ($$v) {_vm.$set(_vm.obj, \"type\", $$v)},expression:\"obj.type\"}},[_c('Radio',{attrs:{\"label\":\"0\"}},[_c('span',[_vm._v(\"菜单\")])]),_c('Radio',{attrs:{\"label\":\"1\"}},[_c('span',[_vm._v(\"按钮\")])])],1)],1),_c('div',{staticClass:\"display-flex-center\",staticStyle:{\"margin-top\":\"40px\"}},[_vm._v(\"\\n                          序号：\\n             \"),_c('div',{staticStyle:{\"width\":\"80%\",\"padding-left\":\"10px\"}},[_c('Slider',{model:{value:(_vm.obj.orderNum),callback:function ($$v) {_vm.$set(_vm.obj, \"orderNum\", $$v)},expression:\"obj.orderNum\"}})],1)]),_c('div',{staticStyle:{\"margin-top\":\"40px\"}},[_vm._v(\"\\n                          备注：\\n            \"),_c('Input',{staticStyle:{\"width\":\"80%\"},attrs:{\"placeholder\":\"\"},model:{value:(_vm.obj.perms),callback:function ($$v) {_vm.$set(_vm.obj, \"perms\", $$v)},expression:\"obj.perms\"}})],1)],1)])],1)],1),_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.handleSubmit()}}},[_vm._v(\"保存\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","  <template>\r\n    <div class=\"\">\n    \t<Card>\r\n        <Row  type=\"flex\"  justify=\"space-between\">\r\n          <Col span=\"4\">\r\n            <div class=\"el-tree\" style=\"\">\n            \t<Tree :data=\"menutree\"  @on-select-change=\"getRoleDetail\"></Tree>\n            </div>\r\n            \r\n            \r\n          </Col>\r\n          <Col span=\"19\">\r\n            <Card>\r\n            <div class=\"\" style=\"padding: 20px 20px 80px;\">\r\n                      父级：\n             \t<Dropdown  trigger=\"click\" @on-click=\"onSelectParent\">\r\n                <a class=\"dropdown display-flex-center-between\" href=\"javascript:void(0)\">\r\n                                  请选择父级\r\n                    <Icon type=\"ios-arrow-down\"></Icon>\r\n                </a>\r\n                <DropdownMenu  slot=\"list\">\r\n                  <div  v-for=\"item in menutree\">\n                  \t<DropdownItem v-if=\"!item.children.length\" :name=\"item.id\"  style=\"padding: 5px 20px\">{{ item.title }}</DropdownItem>\r\n                    <Dropdown placement=\"right-start\"   trigger=\"click\" v-else>\r\n                      <DropdownItem :name=\"item.id\">\r\n                        {{ item.title }}\r\n                        <Icon type=\"ios-arrow-forward\"></Icon>\r\n                      </DropdownItem>\r\n                      <DropdownMenu slot=\"list\">\r\n                        <div  v-for=\"item2 in item.children\">\n                        \t<DropdownItem v-if=\"!item2.children.length\" :name=\"item2.id\">{{ item2.title }}</DropdownItem>\r\n                        \t<Dropdown  placement=\"right-start\"   trigger=\"click\" v-else>\r\n                        \t  <DropdownItem :name=\"item2.id\">\r\n                              {{ item2.title }}\r\n                              <Icon type=\"ios-arrow-forward\"></Icon>\r\n                            </DropdownItem>\r\n                        \t  <DropdownMenu slot=\"list\">\r\n                        \t    <DropdownItem v-for=\"item3 in item2.children\" :name=\"item3.id\">{{ item3.title }}</DropdownItem>\r\n                              <!--<div  v-for=\"item2 in item.children\">\r\n                                <DropdownItem v-if=\"!item2.children.length\">{{ item2.title }}</DropdownItem>\r\n                                <Dropdown v-else>\r\n                                  <DropdownItem>\r\n                                    {{ item2.title }}\r\n                                    <Icon type=\"ios-arrow-forward\"></Icon>\r\n                                  </DropdownItem>\r\n                                  \r\n                                </Dropdown>\r\n                              </div>-->\r\n                            </DropdownMenu>\r\n                        \t</Dropdown>\n                        </div>\r\n                      </DropdownMenu>\r\n                    </Dropdown>\n                  </div>\r\n                </DropdownMenu>\r\n              </Dropdown>\r\n              <!--: 请选择父级id: {{ obj.parentId }}-->\n              <div class=\"\" style=\"margin-top: 40px;\">\n                             名称：\r\n                <Input placeholder=\"\" style=\"width: 80%\" v-model=\"obj.menuName\"/>\n              </div>\r\n              <div class=\"\" style=\"margin-top: 40px;\">\r\n                              代码：\r\n                <Input placeholder=\"\" style=\"width: 80%\"  v-model=\"obj.url\"/>\r\n              </div>\r\n              <div class=\"\" style=\"margin-top: 40px;\">\r\n                            类型：\n              \t<RadioGroup v-model=\"obj.type\" >\r\n                  <Radio label=\"0\">\r\n                      <span>菜单</span>\r\n                  </Radio>\r\n                  <Radio label=\"1\">\r\n                      <span>按钮</span>\r\n                  </Radio>\r\n                </RadioGroup>\n              </div>\r\n              <!--<div class=\"\" style=\"margin-top: 20px;\">\r\n                <RadioGroup v-model=\"obj.status\">\r\n                  <Radio label=\"1\">\r\n                      <span>是</span>\r\n                  </Radio>\r\n                  <Radio label=\"0\">\r\n                      <span>否</span>\r\n                  </Radio>\r\n                </RadioGroup>\r\n              </div>-->\r\n              <div class=\"display-flex-center\" style=\"margin-top: 40px;\">\r\n                              序号：\r\n                 <div class=\"\" style=\"width: 80%; padding-left: 10px;\">\n                 \t<Slider v-model=\"obj.orderNum\" ></Slider>\n                 </div>\r\n                              \r\n               \r\n              </div>\r\n              <div class=\"\" style=\"margin-top: 40px;\">\r\n                              备注：\r\n                <Input placeholder=\"\" style=\"width: 80%\"  v-model=\"obj.perms\"/>\r\n              </div>\r\n             </div>\r\n            </Card>\r\n          </Col>\r\n          \r\n         </Row>\r\n         <Button type=\"primary\" @click=\"handleSubmit()\">保存</Button>\r\n      </Card>\n    </div>\r\n</template>\r\n\r\n<script>\r\n  import menuApi from \"@/api/menu-api\";\r\n  export default {\r\n    data () {\r\n      return {\r\n        menutree: [],\r\n        obj:{\r\n          icon:\"+\",\r\n          parentId:null\r\n        }\r\n      }\r\n    },\r\n    methods:{\r\n      onSelectParent: function (id) {\n      \tconsole.log(id);\r\n      \tthis.obj.parentId = id\r\n\n      },\r\n      handleSubmit: function(){\r\n         console.log(this.obj);\r\n        menuApi.addMenu(this.obj).then( data => {\r\n          console.log(data);\r\n          this.$Message.success(\"操作成功\");\r\n          this.getMenus();\r\n        })\r\n       \r\n      },\r\n      getRoleDetail(roles ){\r\n        console.log(roles)\r\n        this.obj = roles[0];\r\n      },\r\n      getMenus() {\r\n        menuApi.getMenus(null\r\n          ,\r\n          data => {\r\n            console.log(data);\r\n            this.menuList = data.result.list;\r\n            this.machiningMenus(data.result.list)\r\n          }\r\n        );\r\n      },\r\n      machiningMenus: function(menuList){\r\n        var result = [];\r\n        (function traverse(node, result) {//???\r\n          node.forEach(i => {\r\n//          let n = {\r\n//                title: i.menuName,\r\n//                id: i.id,\r\n//            }\r\n          let n = i\r\n          n.title = i.menuName\r\n              if(i.childMenus){\r\n                n.children = []\r\n                traverse(i.childMenus, n.children)\r\n              }\r\n              \r\n              result.push(n);\r\n          })\r\n        })(menuList, result);\r\n        \r\n        this.menutree = result;\r\n      }\r\n    },\r\n    mounted() {\r\n      this.getMenus();\r\n    }\r\n  }\r\n  \r\n</script>\r\n\r\n<style>\r\n.dropdown{\r\n  border: 1px solid #d1dbe5;\r\n  padding: 5px 10px;\r\n  width: 200px;\r\n  border-radius: 5px;\r\n  color: inherit;\r\n}\r\na:hover{\r\n  color: inherit;\r\n}\r\n.el-tree {\r\n    cursor: default;\r\n    background: #fff;\r\n    border: 1px solid #d1dbe5;\r\n    padding: 10px 20px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./menu.vue?vue&type=template&id=70674f53&\"\nimport script from \"./menu.vue?vue&type=script&lang=js&\"\nexport * from \"./menu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./menu.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"menu.vue\"\nexport default component.exports","import axios from '@/libs/api.request';\nimport httpClient from './httpClient';\n\nlet menu = new Object();\n\nmenu.addMenu = (data) => {\n  return new Promise((resolve, reject) => {\n    axios\n      .request({\n        url: '/menu/add',\n        method: 'post',\n        data\n      })\n      .then((res) => {\n        if (res.data.code == 'Success') {\n          resolve(res.data);\n        } else {\n          reject(res.data);\n        }\n      });\n  });\n};\nmenu.deleteMenu = (data, fnOk, fnError) => {\n  axios\n    .request({\n      url: `/menu/delete?id=${data.id}`,\n      method: 'post'\n    })\n    .then((res) => {\n      console.log(res);\n      if (res.data.code != 'Success') {\n        fnError(res.data);\n      } else {\n        fnOk(res.data);\n      }\n    });\n};\nmenu.updateMenu = (data, fnOk, fnError) => {\n  axios\n    .request({\n      url: '/menu/update',\n      method: 'post',\n      data\n    })\n    .then((res) => {\n      console.log(res);\n      if (res.data.code != 'Success') {\n        fnError(res.data);\n      } else {\n        fnOk(res.data);\n      }\n    });\n};\nmenu.getMenus = (data, fnOk, fnError) => {\n  axios\n    .request({\n      url: `/menu/list`,\n      method: 'post'\n    })\n    .then((res) => {\n      if (res.data.code != 'Success') {\n        fnError(res.data);\n      } else {\n        fnOk(res.data);\n      }\n    });\n};\n// 封装一层axios 并返回Promise对象 实现链式调用\nmenu.addMenu = (data) => httpClient.post({ url: `/menu/add`, data });\nmenu.getMenuList = (data) => httpClient.post({ url: `/menu/list`, data });\n\nmenu.getMenusByRoleId = (data) => httpClient.get({ url: `/roleMenu/getMenusByRoleId?roleId=${data.roleId}`, data });\n\nmenu.getMenusByParentId = (data) => httpClient.get({ url: '/menu/getMenusByParentId', data });\n\nmenu.getMenuTreeByUserId = (data) => httpClient.get({ url: '/menuTree/getByUserId', data, defaultValue: 'menuList' });\n\nmenu.getMenusLevel1 = (data, fnOk, fnError) => {\n  axios\n    .request({\n      url: `/menu/getMenusByParentId?parentId=0`,\n      method: 'get'\n    })\n    .then((res) => {\n      if (res.data.code != 'Success') {\n        fnError(res.data);\n      } else {\n        fnOk(res.data);\n      }\n    });\n};\nexport default menu;\n"],"sourceRoot":""}