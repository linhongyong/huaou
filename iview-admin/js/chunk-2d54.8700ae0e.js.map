{"version":3,"sources":["webpack:///./src/view/menu/menu.vue?287a","webpack:///./src/view/menu/menu.vue?925a","webpack:///src/view/menu/menu.vue","webpack:///./src/view/menu/menu.vue?b3ef","webpack:///./src/view/menu/menu.vue?6812","webpack:///./src/api/menu-api.js"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_menu_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","render","_vm","this","_h","$createElement","_c","_self","attrs","type","justify","span","staticClass","staticStyle","margin-bottom","icon","size","on","click","$event","addMenu","_v","margin-left","disabled","isAccessForButton","deleteMenu","data","menutree","on-select-change","getRoleDetail","padding","_e","on-click","onSelectParent","href","_s","obj","parentName","slot","_l","item","key","id","children","length","placement","name","menuName","title","item2","item3","margin-top","width","placeholder","model","value","callback","$$v","$set","expression","label","padding-left","text-align","handleSubmit","staticRenderFns","initObj","parentId","menuvue_type_script_lang_js_","methods","getCheckedBoxs","nodes","console","log","checkedBoxs","_this","menu_api","deleteById","then","$Message","success","getMenus","idName","split","_this2","perms","url","updateMenu","catch","err","message","error","roles","_this3","menuList","result","list","machiningMenus","traverse","node","forEach","i","n","concat","expand","childMenus","push","mounted","menu_menuvue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","__webpack_exports__","menu","Promise","resolve","reject","_libs_api_request__WEBPACK_IMPORTED_MODULE_3__","request","method","res","code","fnOk","fnError","_httpClient__WEBPACK_IMPORTED_MODULE_4__","post","getMenuList","getMenusByRoleId","get","getMenusByParentId","getMenuTreeByUserId","defaultValue","getMenusLevel1"],"mappings":"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","file":"js/chunk-2d54.8700ae0e.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menu.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menu.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{},[_c('Card',[_c('Row',{attrs:{\"type\":\"flex\",\"justify\":\"space-between\"}},[_c('Col',{attrs:{\"span\":\"6\"}},[_c('div',{staticClass:\"el-tree\"},[_c('div',{staticStyle:{\"margin-bottom\":\"35px\"}},[_c('Button',{attrs:{\"type\":\"primary\",\"icon\":\"md-add\",\"size\":\"small\"},on:{\"click\":function($event){_vm.addMenu()}}},[_vm._v(\"添加\")]),_c('Button',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"type\":\"error\",\"icon\":\"md-trash\",\"size\":\"small\",\"disabled\":!_vm.isAccessForButton('0020')},on:{\"click\":function($event){_vm.deleteMenu()}}},[_vm._v(\"删除\")])],1),_c('Tree',{attrs:{\"data\":_vm.menutree},on:{\"on-select-change\":_vm.getRoleDetail}})],1)]),_c('Col',{attrs:{\"span\":\"17\"}},[_c('Card',[_c('div',{staticStyle:{\"padding\":\"20px 20px 80px\"}},[(_vm.menutree.length)?_c('span',[_vm._v(\"父级：\")]):_vm._e(),(_vm.menutree.length)?_c('Dropdown',{on:{\"on-click\":_vm.onSelectParent}},[_c('a',{staticClass:\"dropdown display-flex-center-between\",attrs:{\"href\":\"javascript:void(0)\"}},[_vm._v(\"\\n                    \"+_vm._s(_vm.obj.parentName ? _vm.obj.parentName : '请选择父级')+\"\\n                    \"),_c('Icon',{attrs:{\"type\":\"ios-arrow-down\"}})],1),_c('DropdownMenu',{attrs:{\"slot\":\"list\"},slot:\"list\"},_vm._l((_vm.menutree),function(item){return _c('div',{key:item.id},[(!item.children.length)?_c('DropdownItem',{staticStyle:{\"padding\":\"5px 20px\"},attrs:{\"name\":item.id+'-'+item.menuName}},[_vm._v(_vm._s(item.title))]):_c('Dropdown',{attrs:{\"placement\":\"right-start\"}},[_c('DropdownItem',{attrs:{\"name\":item.id+'-'+item.menuName}},[_vm._v(\"\\n                        \"+_vm._s(item.title)+\"\\n                        \"),_c('Icon',{attrs:{\"type\":\"ios-arrow-forward\"}})],1),_c('DropdownMenu',{attrs:{\"slot\":\"list\"},slot:\"list\"},_vm._l((item.children),function(item2){return _c('div',{key:item2.id},[(!item2.children.length)?_c('DropdownItem',{attrs:{\"name\":item2.id+'-'+item2.menuName}},[_vm._v(_vm._s(item2.title))]):_c('Dropdown',{attrs:{\"placement\":\"right-start\"}},[_c('DropdownItem',{attrs:{\"name\":item2.id+'-'+item2.menuName}},[_vm._v(\"\\n                              \"+_vm._s(item2.title)+\"\\n                              \"),_c('Icon',{attrs:{\"type\":\"ios-arrow-forward\"}})],1),_c('DropdownMenu',{attrs:{\"slot\":\"list\"},slot:\"list\"},_vm._l((item2.children),function(item3){return _c('DropdownItem',{key:item3.id+'-'+item3.menuName,attrs:{\"name\":item3.id+'-'+item3.menuName}},[_vm._v(_vm._s(item3.title))])}))],1)],1)}))],1)],1)}))],1):_vm._e(),_c('div',{staticStyle:{\"margin-top\":\"40px\"}},[_vm._v(\"\\n                             名称：\\n                \"),_c('Input',{staticStyle:{\"width\":\"80%\"},attrs:{\"placeholder\":\"\"},model:{value:(_vm.obj.menuName),callback:function ($$v) {_vm.$set(_vm.obj, \"menuName\", $$v)},expression:\"obj.menuName\"}})],1),_c('div',{staticStyle:{\"margin-top\":\"40px\"}},[_vm._v(\"\\n                              代码：\\n                \"),_c('Input',{staticStyle:{\"width\":\"80%\"},attrs:{\"placeholder\":\"\"},model:{value:(_vm.obj.url),callback:function ($$v) {_vm.$set(_vm.obj, \"url\", $$v)},expression:\"obj.url\"}})],1),_c('div',{staticStyle:{\"margin-top\":\"40px\"}},[_vm._v(\"\\n                            类型：\\n              \\t\"),_c('RadioGroup',{model:{value:(_vm.obj.type),callback:function ($$v) {_vm.$set(_vm.obj, \"type\", $$v)},expression:\"obj.type\"}},[_c('Radio',{attrs:{\"label\":\"0\"}},[_c('span',[_vm._v(\"菜单\")])]),_c('Radio',{attrs:{\"label\":\"1\"}},[_c('span',[_vm._v(\"按钮\")])])],1)],1),_c('div',{staticClass:\"display-flex-center\",staticStyle:{\"margin-top\":\"40px\"}},[_vm._v(\"\\n                              序号：\\n                 \"),_c('div',{staticStyle:{\"width\":\"80%\",\"padding-left\":\"10px\"}},[_c('Slider',{model:{value:(_vm.obj.orderNum),callback:function ($$v) {_vm.$set(_vm.obj, \"orderNum\", $$v)},expression:\"obj.orderNum\"}})],1)]),_c('div',{staticStyle:{\"margin-top\":\"40px\"}},[_vm._v(\"\\n                              备注：\\n                \"),_c('Input',{staticStyle:{\"width\":\"80%\"},attrs:{\"placeholder\":\"\"},model:{value:(_vm.obj.perms),callback:function ($$v) {_vm.$set(_vm.obj, \"perms\", $$v)},expression:\"obj.perms\"}})],1)],1),_c('div',{staticStyle:{\"text-align\":\"right\",\"padding\":\"30px 10px 10px\"}},[_c('Button',{attrs:{\"type\":\"primary\",\"disabled\":!_vm.isAccessForButton('0019')},on:{\"click\":function($event){_vm.handleSubmit()}}},[_vm._v(\"保存\")])],1)])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","  <template>\r\n    <div class=\"\">\n    \t<Card>\r\n        <Row  type=\"flex\"  justify=\"space-between\">\r\n          <Col span=\"6\">\r\n            <div class=\"el-tree\" style=\"\">\r\n\t\t\t\t\t\t\t<div style=\"margin-bottom: 35px;\">\r\n\t\t\t\t\t\t\t\t<Button type=\"primary\" icon=\"md-add\" size=\"small\"  @click=\"addMenu()\">添加</Button>\r\n\t\t\t\t\t\t\t\t<Button type=\"error\" icon=\"md-trash\" size=\"small\"  @click=\"deleteMenu()\" style=\"margin-left: 10px;\" :disabled=\"!isAccessForButton('0020')\">删除</Button>\r\n\t\t\t\t\t\t\t</div>\r\n            \t<Tree :data=\"menutree\"  @on-select-change=\"getRoleDetail\"></Tree>\n            </div>\r\n            \r\n            \r\n          </Col>\r\n          <Col span=\"17\">\r\n            <Card>\r\n            <div class=\"\" style=\"padding: 20px 20px 80px;\">\r\n              <span  v-if=\"menutree.length\">父级：</span>\n             \t<Dropdown   @on-click=\"onSelectParent\"  v-if=\"menutree.length\">\r\n                <a class=\"dropdown display-flex-center-between\" href=\"javascript:void(0)\">\r\n                    {{obj.parentName ? obj.parentName : '请选择父级'}}\r\n                    <Icon type=\"ios-arrow-down\"></Icon>\r\n                </a>\r\n                <DropdownMenu  slot=\"list\">\r\n                  <div  v-for=\"item in menutree\" v-bind:key = \"item.id\">\n                  \t<DropdownItem v-if=\"!item.children.length\" :name=\"item.id+'-'+item.menuName\"  style=\"padding: 5px 20px\">{{ item.title }}</DropdownItem>\r\n                    <Dropdown placement=\"right-start\"   v-else>\r\n                      <DropdownItem :name=\"item.id+'-'+item.menuName\">\r\n                        {{ item.title }}\r\n                        <Icon type=\"ios-arrow-forward\"></Icon>\r\n                      </DropdownItem>\r\n                      <DropdownMenu slot=\"list\">\r\n                        <div  v-for=\"item2 in item.children\"  v-bind:key = \"item2.id\">\n                        \t<DropdownItem v-if=\"!item2.children.length\" :name=\"item2.id+'-'+item2.menuName\">{{ item2.title }}</DropdownItem>\r\n                        \t<Dropdown  placement=\"right-start\"    v-else>\r\n                        \t  <DropdownItem :name=\"item2.id+'-'+item2.menuName\">\r\n                              {{ item2.title }}\r\n                              <Icon type=\"ios-arrow-forward\"></Icon>\r\n                            </DropdownItem>\r\n                        \t  <DropdownMenu slot=\"list\">\r\n                        \t    <DropdownItem v-for=\"item3 in item2.children\"  v-bind:key =\"item3.id+'-'+item3.menuName\" :name=\"item3.id+'-'+item3.menuName\">{{ item3.title }}</DropdownItem>\r\n                              <!--<div  v-for=\"item2 in item.children\">\r\n                                <DropdownItem v-if=\"!item2.children.length\">{{ item2.title }}</DropdownItem>\r\n                                <Dropdown v-else>\r\n                                  <DropdownItem>\r\n                                    {{ item2.title }}\r\n                                    <Icon type=\"ios-arrow-forward\"></Icon>\r\n                                  </DropdownItem>\r\n                                </Dropdown>\r\n                              </div>-->\r\n                            </DropdownMenu>\r\n                        \t</Dropdown>\n                        </div>\r\n                      </DropdownMenu>\r\n                    </Dropdown>\n                  </div>\r\n                </DropdownMenu>\r\n              </Dropdown>\r\n              <!--: 请选择父级id: {{ obj.parentId }}-->\n              <div class=\"\" style=\"margin-top: 40px;\">\n                             名称：\r\n                <Input placeholder=\"\" style=\"width: 80%\" v-model=\"obj.menuName\"/>\n              </div>\r\n              <div class=\"\" style=\"margin-top: 40px;\">\r\n                              代码：\r\n                <Input placeholder=\"\" style=\"width: 80%\"  v-model=\"obj.url\"/>\r\n              </div>\r\n              <div class=\"\" style=\"margin-top: 40px;\">\r\n                            类型：\n              \t<RadioGroup v-model=\"obj.type\" >\r\n                  <Radio label=\"0\">\r\n                      <span>菜单</span>\r\n                  </Radio>\r\n                  <Radio label=\"1\">\r\n                      <span>按钮</span>\r\n                  </Radio>\r\n                </RadioGroup>\n              </div>\r\n              <div class=\"display-flex-center\" style=\"margin-top: 40px;\">\r\n                              序号：\r\n                 <div class=\"\" style=\"width: 80%; padding-left: 10px;\">\n                 \t<Slider v-model=\"obj.orderNum\" ></Slider>\n                 </div>\r\n                              \r\n               \r\n              </div>\r\n              <div class=\"\" style=\"margin-top: 40px;\">\r\n                              备注：\r\n                <Input placeholder=\"\" style=\"width: 80%\"  v-model=\"obj.perms\"/>\r\n              </div>\r\n             </div>\r\n\t\t\t\t\t\t <div style=\"text-align: right;padding: 30px 10px 10px;\">\r\n\t\t\t\t\t\t \t<Button type=\"primary\" @click=\"handleSubmit()\" :disabled=\"!isAccessForButton('0019')\">保存</Button>\r\n\t\t\t\t\t\t </div>\r\n            </Card>\r\n          </Col>\r\n          \r\n         </Row>\r\n\t\t\t\t \r\n         \r\n      </Card>\n    </div>\r\n</template>\r\n\r\n<script>\r\n  import menuApi from \"@/api/menu-api\";\r\n\tconst initObj = () => ({\r\n\t  icon:\"+\",\r\n\t  parentId:null,\r\n\t  parentName: null,\r\n\t\ttype:0+\"\"\r\n\t});\r\n  export default {\r\n    data () {\r\n      return {\r\n        menutree: [],\r\n        obj: initObj()\r\n      }\r\n    },\r\n    methods:{\r\n\t\t\tgetCheckedBoxs: function (nodes) {//多选框\r\n\t\t\t\tconsole.log(nodes);\r\n\t\t\t\tthis.checkedBoxs = nodes;\r\n\t\t\t},\r\n\t\t\taddMenu: function(){\r\n\t\t\t\tthis.obj = initObj()\r\n\t\t\t},\r\n\t\t\tdeleteMenu: function () {\r\n\t\t\t\t// this.$Message.success(\"暂时关闭了删除操作\");\r\n\t\t\t\tlet id = this.obj.id\r\n\t\t\t\tmenuApi.deleteById({id})\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tthis.$Message.success(\"操作成功\");\r\n\t\t\t\t\tthis.obj = initObj();\r\n\t\t\t\t\tthis.getMenus()\r\n\t\t\t\t})\r\n\t\t\t},\r\n      onSelectParent: function (idName) {\n      \tconsole.log(idName);\r\n      \tthis.obj.parentId = idName.split(\"-\")[0]\r\n\t\t\t\tthis.obj.parentName =  idName.split(\"-\")[1]\r\n\t\t\t\t\n      },\r\n      handleSubmit: function(){\r\n        console.log(this.obj);\r\n\t\t\t\tif(!this.obj.menuName || !this.obj.perms || !this.obj.url){\r\n\t\t\t\t\tthis.$Message.error(\"缺少参数\");return;\r\n\t\t\t\t}\r\n\t\t\t\tif(this.obj.id){\r\n\t\t\t\t\tmenuApi.updateMenu(this.obj).then( data => {\r\n\t\t\t\t\t\tconsole.log(data);\r\n\t\t\t\t\t\tthis.$Message.success(\"操作成功\");\r\n\t\t\t\t\t\tthis.getMenus();\r\n\t\t\t\t\t\tthis.obj = initObj();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tconsole.log(err.message);\r\n\t\t\t\t\t\tthis.$Message.error(err.message);\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tmenuApi.addMenu(this.obj)\r\n\t\t\t\t\t.then( data => {\r\n\t\t\t\t\t\tconsole.log(data);\r\n\t\t\t\t\t\tthis.$Message.success(\"操作成功\");\r\n\t\t\t\t\t\tthis.getMenus();\r\n\t\t\t\t\t\tthis.obj = initObj();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tconsole.log(err.message);\r\n\t\t\t\t\t\tthis.$Message.error(err.message);\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n        \r\n\t\t\t\t\r\n       \r\n      },\r\n      getRoleDetail(roles ){\r\n        console.log(roles)\r\n\t\t\t\tif(!roles || !roles.length){\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.obj.id = roles[0].id;\r\n        this.obj.parentId = roles[0].parentId;\r\n\t\t\t\tthis.obj.menuName = roles[0].menuName;\r\n\t\t\t\tthis.obj.url = roles[0].url;\r\n\t\t\t\tthis.obj.type = roles[0].type;\r\n\t\t\t\tthis.obj.perms = roles[0].perms;\r\n\t\t\t\t// this.obj = Object.assign({},roles[0])\r\n      },\r\n      getMenus() {//获得菜单树\r\n        menuApi.getMenus(null,\r\n          data => {\r\n            console.log(data);\r\n            this.menuList = data.result.list;\r\n            this.machiningMenus(data.result.list)\r\n          }\r\n        );\r\n      },\r\n      machiningMenus: function(menuList){\r\n        var result = [];\r\n        (function traverse(node, result) {//???\r\n          node.forEach(i => {\r\n          let n = i\r\n\t\t\t\t\tif(i.type == 1){\r\n\t\t\t\t\t\tn.title = `${i.menuName}(${i.url})`\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tn.title = i.menuName\r\n\t\t\t\t\t}\r\n\t\t\t\t\tn.expand = true\r\n              if(i.childMenus){\r\n                n.children = []\r\n                traverse(i.childMenus, n.children)\r\n              }\r\n              result.push(n);\r\n          })\r\n        })(menuList, result);\r\n        \r\n        this.menutree = result;\r\n      }\r\n    },\r\n    mounted() {\r\n      this.getMenus();\r\n    }\r\n  }\r\n  \r\n</script>\r\n\r\n<style>\r\n.dropdown{\r\n  border: 1px solid #d1dbe5;\r\n  padding: 5px 10px;\r\n  width: 200px;\r\n  border-radius: 5px;\r\n  color: inherit;\r\n}\r\na:hover{\r\n  color: inherit;\r\n}\r\n.el-tree {\r\n    cursor: default;\r\n    background: #fff;\r\n    border: 1px solid #d1dbe5;\r\n    padding: 10px 20px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./menu.vue?vue&type=template&id=1fb3f835&\"\nimport script from \"./menu.vue?vue&type=script&lang=js&\"\nexport * from \"./menu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./menu.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"menu.vue\"\nexport default component.exports","import {axios} from '@/libs/api.request';\nimport httpClient from './httpClient';\n\nlet menu = new Object();\n\nmenu.addMenu = (data) => {\n  return new Promise((resolve, reject) => {\n    axios\n      .request({\n        url: '/menu/add',\n        method: 'post',\n        data\n      })\n      .then((res) => {\n        if (res.data.code == 'Success') {\n          resolve(res.data);\n        } else {\n          reject(res.data);\n        }\n      });\n  });\n};\nmenu.deleteMenu = (data, fnOk, fnError) => {\n  axios\n    .request({\n      url: `/menu/delete?id=${data.id}`,\n      method: 'post'\n    })\n    .then((res) => {\n      console.log(res);\n      if (res.data.code != 'Success') {\n        fnError(res.data);\n      } else {\n        fnOk(res.data);\n      }\n    });\n};\nmenu.updateMenu = (data, fnOk, fnError) => {\n  axios\n    .request({\n      url: '/menu/update',\n      method: 'post',\n      data\n    })\n    .then((res) => {\n      console.log(res);\n      if (res.data.code != 'Success') {\n        fnError(res.data);\n      } else {\n        fnOk(res.data);\n      }\n    });\n};\nmenu.getMenus = (data, fnOk, fnError) => {\n  axios\n    .request({\n      url: `/menu/list`,\n      method: 'get'\n    })\n    .then((res) => {\n      if (res.data.code != 'Success') {\n        fnError(res.data);\n      } else {\n        fnOk(res.data);\n      }\n    });\n};\n// 封装一层axios 并返回Promise对象 实现链式调用\nmenu.addMenu = (data) => httpClient.post({ url: `/menu/add`, data });\r\nmenu.updateMenu = (data) => httpClient.post({ url: `/menu/update`, data });\nmenu.getMenuList = (data) => httpClient.post({ url: `/menu/list`, data });\n\nmenu.getMenusByRoleId = (data) => httpClient.get({ url: `/roleMenu/getMenusByRoleId`, data });\n\nmenu.getMenusByParentId = (data) => httpClient.get({ url: '/menu/getMenusByParentId', data });\n\nmenu.getMenuTreeByUserId = (data) => httpClient.get({ url: '/menuTree/getByUserId', data, defaultValue: 'menuList' });\r\n\r\n//删除\r\nmenu.deleteById = (data) => httpClient.post({ url: `/menu/delete?id=${data.id}`, data });\n\nmenu.getMenusLevel1 = (data, fnOk, fnError) => {\n  axios\n    .request({\n      url: `/menu/getMenusByParentId?parentId=0`,\n      method: 'get'\n    })\n    .then((res) => {\n      if (res.data.code != 'Success') {\n        fnError(res.data);\n      } else {\n        fnOk(res.data);\n      }\n    });\n};\nexport default menu;\n"],"sourceRoot":""}